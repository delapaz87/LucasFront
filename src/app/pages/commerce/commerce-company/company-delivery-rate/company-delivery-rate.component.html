<form [formGroup]="tasaDeliveryForm" (ngSubmit)="updateDeliveryRate()"  >
  <div class="modal-header" style="padding: 0px 15px;">
    <h2 class="modal-login--title w-100">Comercio - Tarifa delivery</h2>
    <div class="modal-login--close">
      <a class="btn-close" mat-dialog-close></a>
    </div>
  </div>
  <div class="modal-body">
    <div class="col-md-12 mt-2">
      <div class="modal-body">
        <div class="f-selec mb-4">
          <span>Tipo de tarifa</span>
          <select #rate_type name="rate_type" id="rate_type" formControlName="rate_type" (change)="changeTarifa()">
            <option value="1">Tarifa fija</option>
            <option value="2">Tarifa por distancia</option>
            <option value="3">Tarifa por valor de compra</option>
            <option value="4">Tarifa precio luego distancia</option>
          </select>
        </div>
        <div class="g-input--material mt-3" >
          <label for="material-input">
              <input type="number" matInput name="rate_fix" formControlName="rate_fix">
              <span class="placeholder">Tasa fija</span>
          </label>
        </div>
        <div class="g-input--material mt-3" *ngIf="
            tasaDeliveryForm.get('rate_type').value == 3 ||
            tasaDeliveryForm.get('rate_type').value == 4">
          <label for="material-input">
              <input type="number" matInput name="rate_ruler_value" formControlName="rate_ruler_value">
              <span class="placeholder">Valor de compra mínima</span>
          </label>
        </div>
        <div class="g-input--material mt-3" *ngIf="
            tasaDeliveryForm.get('rate_type').value == 3 ||
            tasaDeliveryForm.get('rate_type').value == 4">
          <label for="material-input">
              <input type="number" matInput name="rate_var_value" formControlName="rate_var_value">
              <span class="placeholder">Descuento del delivery</span>
          </label>
        </div>
        <div class="g-input--material mt-3" *ngIf="
            tasaDeliveryForm.get('rate_type').value == 2 ||
            tasaDeliveryForm.get('rate_type').value == 4">
          <label for="material-input">
              <input type="number" matInput name="rate_ruler_km" formControlName="rate_ruler_km">
              <span class="placeholder">Distancia mínima</span>
          </label>
        </div>
        <div class="g-input--material mt-3" *ngIf="
            tasaDeliveryForm.get('rate_type').value == 2 ||
            tasaDeliveryForm.get('rate_type').value == 4">
          <label for="material-input">
              <input type="number" matInput name="rate_var_km" formControlName="rate_var_km">
              <span class="placeholder">Tasa por kilometro</span>
          </label>
        </div>
        <div class="col-md-8 mt-3">
          <div class="md-checkbox">
            <input id="rate_outcity_do" type="checkbox" name="rate_outcity_do" formControlName="rate_outcity_do">
            <label for="rate_outcity_do">Hago envío nacional</label>
          </div>
        </div>

        <div class="g-input--material mt-3" *ngIf="tasaDeliveryForm.controls['rate_outcity_do'].value === true || tasaDeliveryForm.controls['rate_outcity_do'].value === 1" >
          <div class="form-floating">
            <textarea name="rate_outcity_text" formControlName="rate_outcity_text" class="form-control" placeholder="Descripción de mi envío nacional" id="rate_outcity_text"></textarea>
            <label for="rate_outcity_text">Descripción de mi envío nacional</label>
          </div>
        </div>
      </div>
      <div class="col-md-10 mx-auto">
        <div class="mb-3">
          <div class="mt-3">
            <button class="g-button g-button--primary" [disabled]="tasaDeliveryForm.invalid">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
