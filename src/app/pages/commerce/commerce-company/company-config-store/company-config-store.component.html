<form [formGroup]="formStore" (submit)="submitStore()" >
  <div class="modal-header" style="padding: 0px 15px;">
    <h2 class="modal-login--title w-100">Comercio - Tienda virtual</h2>
    <div class="modal-login--close">
      <a class="btn-close" mat-dialog-close></a>
    </div>
  </div>
  <div class="modal-body">
    <div class="col-md-12 mt-2">
      <div class="g-modal--body">
        <div class="switch mt-2">
          <input type="checkbox" id="activate_webstore" formControlName="activate_webstore" class="switch--input" (blur)="js()" >
          <label for="activate_webstore" class="switch--label">Activar tienda virtual</label>
        </div>
        <div class="w-100 mt-4" *ngIf="formStore.controls['activate_webstore'].value">
          <div class="g-input--material mb-3">
            <label for="material-input">
                <input type="text" matInput name="web_url" formControlName="web_url">
                <span class="placeholder">Direcci√≥n Web (*)</span>
            </label>
            <span class="input-group-text">https://{{formStore.controls['web_url'].value}}.tulivery.com/</span>
            <mat-error class="g-span-error" *ngIf="formStore.get('web_url')?.hasError('required') && formStore.get('web_url')?.touched">El campo es requerido <br></mat-error>
            <mat-error class="g-span-error" *ngIf="formStore.get('web_url')?.hasError('minlength') && formStore.get('web_url')?.touched">El campo debe contener minimo 3 caracteres <br></mat-error>
            <mat-error class="g-span-error" *ngIf="formStore.get('web_url')?.hasError('maxlength') && formStore.get('web_url')?.touched">El campo debe contener maximo 25 caracteres <br></mat-error>
            <mat-error class="g-span-error" *ngIf="formStore.get('web_url')?.hasError('pattern') && formStore.get('web_url')?.touched">El campo no debe contener caracteres especiales, espacios o tildes <br></mat-error>
          </div>
        </div>
        <div class="mt-3" *ngIf="formStore.controls['activate_webstore'].value">
          <span class="g-span--tertiary">Seleccione la pantalla se ajusta a tu Tienda web</span>
        </div>
        <div class="d-flex" ng-init="selectedTab = 1" *ngIf="formStore.controls['activate_webstore'].value">
          <button type="button"
              [ngClass]="{'active':web_template === 1}"
              (click)="selectTemplate(1)"
              [disabled]="!formStore.controls['activate_webstore'].value"
              class="btn item--template" >
              <i class="icon-template1"></i>
              <p><b>Visual</b></p>
          </button>
          <button type="button"
              [ngClass]="{'active':web_template === 2}"
              (click)="selectTemplate(2)"
              [disabled]="!formStore.controls['activate_webstore'].value"
              class="btn item--template" >
              <i class="icon-template2"></i>
              <p><b>Compacta</b></p>
          </button>
          <button type="button"
              [ngClass]="{'active':web_template === 3}"
              (click)="selectTemplate(3)"
              [disabled]="!formStore.controls['activate_webstore'].value"
              class="btn item--template" >
              <i class="icon-template3"></i>
              <p><b>Textual</b></p>
          </button>
          <button type="button"
              [ngClass]="{'active':web_template === 4}"
              (click)="selectTemplate(4)"
              [disabled]="!formStore.controls['activate_webstore'].value"
              class="btn item--template" >
              <i class="icon-template4"></i>
              <p><b>Ecommerce</b></p>
          </button>
        </div>
      </div>
      <div class="row" *ngIf="formStore.controls['activate_webstore'].value">
        <div class="col-md-6">
          <div class="mt-3">
            <span class="g-span--tertiary">Banner web</span>
          </div>
          <div class="file" (click)="uploadBannerWeb()">
            <label for="fileupload">Adjuntar imagen del Banner</label>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mt-3">
            <span class="g-span--tertiary">Banner app</span>
          </div>
          <div class="file" (click)="uploadBannerApp()">
            <label for="fileupload" >Adjuntar imagen del Banner</label>
          </div>
        </div>
      </div>
      <div class="col-md-10 mx-auto">
        <div class="mb-3">
          <div class="mt-3">
            <input type="hidden" name="web_template" formControlName="web_template" value="0" />
            <button type="submit" class="g-button g-button--primary"
              [disabled]="formStore.invalid"
              [class.g-button--secundary]="formStore.invalid" >
              Aceptar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
